(()=>{"use strict";const e=({timing:e,draw:t,duration:n})=>{let o=performance.now();requestAnimationFrame((function r(a){let l=(a-o)/n;l>1&&(l=1);let c=e(l);t(c),l<1&&requestAnimationFrame(r)}))},t=({formId:e,someElem:t=[]})=>{const n=document.getElementById(e),o=n.querySelector(".checkbox__input"),r=document.createElement("div"),a=document.querySelector(".popup");try{if(!n)throw new Error(" Верните форму на место пожалуйста");n.addEventListener("submit",(e=>{e.preventDefault(),o.checked&&(()=>{const e=n.querySelectorAll("input"),o=new FormData(n),l={};var c;r.textContent="Загрузка...",n.append(r),o.forEach(((e,t)=>{l[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);t&&parseInt(t.textContent)>0&&(console.log(t.textContent),"block"===e.type?l[e.id]=t.textContent:"input"===e.type&&(l[e.id]=t.value))})),(e=>{let t=!0;return e.forEach((e=>{"user_name"==e.name&&e.value.length<2&&(t=!1),"user_phone"==e.name&&e.value.length<6&&(t=!1)})),t})(e)?(c=l,fetch("../server.php",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{r.textContent="Спасибо! Наш менеджер с вами свяжеться!",document.querySelector("#result_form").textContent=t,e.forEach((e=>{e.value=""}))})).catch((e=>{r.textContent="Ошибка"})).finally((()=>{setTimeout((()=>r.textContent=""),2e3),setTimeout((()=>{a.style.display="none",document.body.style.overflow=""}),4e3)})):(alert("Данные не валидны"),r.textContent="")})()}))}catch(e){console.log(e.message)}};(()=>{const t=document.querySelector(".header-contacts"),n=document.querySelector(".header-contacts__phone-number-accord"),o=n.querySelector(".header-contacts__phone-number");let r=1;t.addEventListener("click",(t=>{t.target.closest(".header-contacts__arrow > img")&&(r++,r>1?e({duration:200,timing:e=>Math.pow(e,3),draw(e){n.style.top=25*e+"px",o.style.opacity=e,t.target.style.transform="rotate(180deg)",r=0}}):(n.style.top=0,o.style.opacity=0,t.target.style.transform="rotate(0deg)",r=1))}))})(),(()=>{const t=document.querySelector(".menu__icon"),n=document.querySelector(".popup-dialog-menu"),o=document.querySelectorAll(".popup-menu-nav__item"),r=document.querySelector(".popup-repair-types"),a=()=>{window.innerWidth>574?n.style.transform="translate3d(645px, 0, 0)":n.style.transform="translate3d(0, -100vh, 0)"};o.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(e.target.hash).scrollIntoView({block:"start",behavior:"smooth"}),window.innerWidth>574?n.style.transform="translate3d(645px, 0, 0)":n.style.transform="translate3d(0, -100vh, 0)"}))})),t.addEventListener("click",(()=>{e({duration:200,timing:e=>Math.pow(e,3),draw(e){e=1-e,window.innerWidth>576?n.style.transform=`translate3d(${e}px, 0, 0)`:n.style.transform=`translate3d(0, ${e}, 0)`}})})),n.addEventListener("click",(e=>{e.target.classList.contains("close-menu")&&a()})),document.addEventListener("click",(e=>{(e.target.closest(".menu-link.no-overflow")||e.target.closest(".link-list.link-list-repair.mobile-hide.tablet-hide")||e.target.closest(".close.mobile-hide"))&&(e=>{e.preventDefault(),r.classList.toggle("visibility-visible"),a()})(e)}))})(),((e,t="+7 (___) ___-__-__")=>{const n=document.querySelectorAll(e);function o(e){const n=e.keyCode,o=t,r=o.replace(/\D/g,""),a=this.value.replace(/\D/g,"");let l=0,c=o.replace(/[_\d]/g,(function(e){return l<a.length?a.charAt(l++)||r.charAt(l):e}));l=c.indexOf("_"),-1!==l&&(c=c.slice(0,l));let s=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");s=new RegExp("^"+s+"$"),(!s.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=c),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of n)e.addEventListener("input",o),e.addEventListener("focus",o),e.addEventListener("blur",o)})("input[name=phone]"),t({formId:"feedback1"}),t({formId:"feedback2"}),t({formId:"feedback3"}),t({formId:"feedback4"}),t({formId:"feedback5"}),t({formId:"feedback6"})})();